# **Manual Integration Testing (Postman Checklist)** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **Phase 2: High-Integrity Data & Security** ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö

Phase ‡∏ô‡∏µ‡πâ‡πÄ‡∏ô‡πâ‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á **‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå (File Storage)**, **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (Security)** ‡πÅ‡∏•‡∏∞ **‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (JSON Schema)** ‡∏Ñ‡∏£‡∏±‡∏ö

-----

## üìã Phase 2 Integration Test Plan

**Pre-requisites (‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°):**

1.  **Server:** ‡∏£‡∏±‡∏ô `pnpm start:dev`
2.  **Auth:** Login ‡∏î‡πâ‡∏ß‡∏¢ `admin` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏≠ Access Token (‡πÉ‡∏ä‡πâ‡πÅ‡∏ô‡∏ö‡πÉ‡∏ô Header: `Authorization: Bearer <token>`)

-----

### üß™ Scenario 1: File Storage (T2.2)

**‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:** ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (Two-Phase Storage)

| Step    | Action (API Endpoint)                               | Method | Body (Form-Data)                                                  | Expected Result                                                                                                           |
| :------ | :-------------------------------------------------- | :----- | :---------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------ |
| **1.1** | **Upload Valid File**<br>`/api/files/upload`        | POST   | Key: `file` (Type: File)<br>Value: (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå PDF/IMG ‡∏Ç‡∏ô‡∏≤‡∏î \< 50MB) | - **Status: 201 Created**<br>- Response ‡∏°‡∏µ `id`, `originalFilename`<br>- `isTemporary`: **true**<br>- `tempId`: (‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ UUID) |
| **1.2** | **Upload Invalid File Type**<br>`/api/files/upload` | POST   | Key: `file` (Type: File)<br>Value: (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå .exe ‡∏´‡∏£‡∏∑‡∏≠ .bat)        | - **Status: 400 Bad Request**<br>- Message: "Validation failed... expected type is..."                                    |
| **1.3** | **Upload Too Large File**<br>`/api/files/upload`    | POST   | Key: `file` (Type: File)<br>Value: (‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏ô‡∏≤‡∏î \> 50MB)              | - **Status: 413 Payload Too Large** ‡∏´‡∏£‡∏∑‡∏≠ **400 Bad Request**                                                               |

*‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏Å‡∏≤‡∏£ Commit ‡πÑ‡∏ü‡∏•‡πå (‡∏¢‡πâ‡∏≤‡∏¢‡∏à‡∏≤‡∏Å Temp -\> Permanent) ‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏≤‡∏ô‡∏≥‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏õ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÉ‡∏ô Phase 3*

-----

### üß™ Scenario 2: JSON Schema Validation (T2.5)

**‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:** ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• JSON

| Step    | Action (API Endpoint)                                                 | Method | Body (JSON)                                                                                 | Expected Result                                                              |
| :------ | :-------------------------------------------------------------------- | :----- | :------------------------------------------------------------------------------------------ | :--------------------------------------------------------------------------- |
| **2.1** | **Register Schema**<br>`/api/json-schemas/TEST_SCHEMA`                | POST   | `{ "type": "object", "properties": { "age": { "type": "integer" } }, "required": ["age"] }` | - **Status: 201 Created**<br>- Response ‡∏°‡∏µ `id`, `schemaCode`: "TEST\_SCHEMA" |
| **2.2** | **Validate Valid Data**<br>`/api/json-schemas/TEST_SCHEMA/validate`   | POST   | `{ "age": 25 }`                                                                             | - **Status: 201 Created**<br>- Response: `{ "valid": true }`                 |
| **2.3** | **Validate Invalid Data**<br>`/api/json-schemas/TEST_SCHEMA/validate` | POST   | `{ "age": "twenty-five" }`                                                                  | - **Status: 400 Bad Request**<br>- Message: "JSON Validation Failed..."      |

-----

### üß™ Scenario 3: Security & Rate Limiting (T2.4)

**‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:** ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏à‡∏°‡∏ï‡∏µ

| Step    | Action (API Endpoint)                              | Method | Details                           | Expected Result                                                                                                                               |
| :------ | :------------------------------------------------- | :----- | :-------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------- |
| **3.1** | **Brute Force Login**<br>`/api/auth/login`         | POST   | ‡∏Å‡∏î Send ‡∏£‡∏±‡∏ß‡πÜ ‡πÄ‡∏Å‡∏¥‡∏ô 5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1 ‡∏ô‡∏≤‡∏ó‡∏µ | - **‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 1-5:** Status 201/401 (‡∏õ‡∏Å‡∏ï‡∏¥)<br>- **‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 6+:** **Status 429 Too Many Requests**<br>- Message: "ThrottlerException: Too Many Requests" |
| **3.2** | **Security Headers**<br>(‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Response Headers) | ANY    | ‡∏¢‡∏¥‡∏á Request ‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ                | - Header `X-Powered-By` **‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ** (‡∏ñ‡∏π‡∏Å Helmet ‡∏ã‡πà‡∏≠‡∏ô)<br>- Header `Content-Security-Policy` **‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ**                                             |

-----

### üß™ Scenario 4: Document Numbering (T2.3)

**‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:** ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ (‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÉ‡∏ô Phase 3)

*‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å Service ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô Internal ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Correspondence*

| Step    | Action (API Endpoint)                              | Method | Body (JSON)                                                 | Expected Result                                                    |
| :------ | :------------------------------------------------- | :----- | :---------------------------------------------------------- | :----------------------------------------------------------------- |
| **4.1** | **Generate Number**<br>`/api/correspondences`      | POST   | `{ "projectId": 1, "typeId": 1, "title": "Test Number 1" }` | - `correspondenceNumber` ‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢ **0001** (‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏•‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î +1)         |
| **4.2** | **Generate Next Number**<br>`/api/correspondences` | POST   | `{ "projectId": 1, "typeId": 1, "title": "Test Number 2" }` | - `correspondenceNumber` ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏Ç‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡πÄ‡∏ä‡πà‡∏ô **0002**) ‡∏´‡πâ‡∏≤‡∏°‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠ 4.1 |

-----

### ‚úÖ Checklist ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Server (Files)

1.  ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
2.  ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `uploads/temp`
3.  **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏à‡∏≠:** ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠ **1.1** ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ô‡∏µ‡πâ ‡πÇ‡∏î‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô UUID (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏¥‡∏°)

‡∏ñ‡πâ‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ **Phase 2 (Infrastructure & Integrity)** ‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö\!